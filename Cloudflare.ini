; æµ·å¤–å›å›½ä»£ç† (.ini æ¨¡æ¿)
; è¯´æ˜ï¼šæ­¤æ–‡ä»¶ä¸º INI æ¨¡æ¿å½¢å¼çš„ Clash/Clash.Meta é…ç½®ï¼ˆä¾¿äºç¼–è¾‘/æ¨¡æ¿åŒ–ï¼‰ã€‚
; ç”¨é€”ï¼šä¼˜å…ˆæŠŠä¸­å›½æµé‡å’Œ Speedtest æµ‹è¯•èµ°â€œå›å›½ç»„â€ï¼›å…¶å®ƒæµé‡èµ°é¦™æ¸¯/æµ·å¤–ã€‚
; è¯·æŠŠæ‰€æœ‰ç¤ºä¾‹èŠ‚ç‚¹(server/port/password/uuid ç­‰)æ›¿æ¢ä¸ºä½ çš„çœŸå®èŠ‚ç‚¹ä¿¡æ¯åä½¿ç”¨ã€‚

[General]
mixed-port = 7890
allow-lan = true
mode = rule
log-level = info
external-controller = 0.0.0.0:9090
secret =
ipv6 = true
unified-delay = true
tcp-concurrent = true
keep-alive-interval = 30

; -------------------------
; Proxies (ç¤ºä¾‹èŠ‚ç‚¹ â€” æ›¿æ¢ä¸ºçœŸå®èŠ‚ç‚¹)
; -------------------------
[Proxy:CN-1]
name = ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹1
type = ss
server = cn-server1.example.com
port = 443
cipher = chacha20-ietf-poly1305
password = your-cn-password
udp = true
ipv6 = true

[Proxy:CN-2]
name = ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹2
type = vmess
server = cn-server2.example.com
port = 443
uuid = your-cn-uuid
alterId = 0
cipher = auto
tls = true
udp = true
ipv6 = true

[Proxy:HK-1]
name = ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹1
type = trojan
server = hk-server1.example.com
port = 443
password = your-hk-password
sni = hk.example.com
udp = true
ipv6 = true

[Proxy:HK-2]
name = ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹2
type = ss
server = hk-server2.example.com
port = 443
cipher = aes-256-gcm
password = your-hk-password
udp = true
ipv6 = true

[Proxy:US-1]
name = ğŸ‡ºğŸ‡¸æµ·å¤–èŠ‚ç‚¹1
type = vmess
server = us-server1.example.com
port = 443
uuid = your-us-uuid
alterId = 0
cipher = auto
tls = true
udp = true
ipv6 = true

[Proxy:US-2]
name = ğŸ‡ºğŸ‡¸æµ·å¤–èŠ‚ç‚¹2
type = trojan
server = us-server2.example.com
port = 443
password = your-us-password
sni = us.example.com
udp = true
ipv6 = true

; -------------------------
; Proxy Groups
; - å›å›½ç»„ï¼šurl-testï¼ˆç”¨äºå›å›½ä¼˜é€‰/æµ‹é€Ÿï¼‰
; - é¦™æ¸¯ç»„ / æµ·å¤–ç»„ï¼šurl-test
; - æµ·å¤–å›å›½ä»£ç†ï¼šselectï¼Œæ–¹ä¾¿æ‰‹åŠ¨/è„šæœ¬æŒ‡å®šâ€œæµ·å¤–æ—¶å›å›½å‡ºå£â€
; -------------------------
[ProxyGroup:CN]
name = ğŸ‡¨ğŸ‡³å›å›½ç»„
type = url-test
proxies = ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹1,ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹2
url = http://www.gstatic.com/generate_204
interval = 300
tolerance = 50

[ProxyGroup:HK]
name = ğŸ‡­ğŸ‡°é¦™æ¸¯ç»„
type = url-test
proxies = ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹1,ğŸ‡­ğŸ‡°é¦™æ¸¯èŠ‚ç‚¹2
url = http://www.gstatic.com/generate_204
interval = 300
tolerance = 50

[ProxyGroup:US]
name = ğŸ‡ºğŸ‡¸æµ·å¤–ç»„
type = url-test
proxies = ğŸ‡ºğŸ‡¸æµ·å¤–èŠ‚ç‚¹1,ğŸ‡ºğŸ‡¸æµ·å¤–èŠ‚ç‚¹2
url = http://www.gstatic.com/generate_204
interval = 300
tolerance = 50

[ProxyGroup:ReturnToCN]
name = æµ·å¤–å›å›½ä»£ç†
type = select
proxies = ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹1,ğŸ‡¨ğŸ‡³å›å›½èŠ‚ç‚¹2,DIRECT

; -------------------------
; DNS é…ç½®
; -------------------------
[DNS]
enable = true
ipv6 = true
enhanced-mode = fake-ip
fake-ip-range = 198.18.0.1/16
nameserver = 114.114.114.114,8.8.8.8
fallback = https://dns.cloudflare.com/dns-query,https://doh.360.cn/dns-query
nameserver-policy.geosite:cn = 114.114.114.114
nameserver-policy.+.google.com = https://dns.cloudflare.com/dns-query

; -------------------------
; Rules (é¡ºåºä¿æŒé‡è¦æ€§)
; - ä¸­å›½ IP/å¸¸è§ä¸­å›½åŸŸåèµ°å›å›½ç»„
; - å¸¸è§å›½å¤–æœåŠ¡èµ°é¦™æ¸¯/æµ·å¤–ç»„
; - SpeedtestChina ç›¸å…³åŸŸåèµ°å›å›½ç»„ä»¥ä¾¿å›½å†…ä½å»¶è¿Ÿæµ‹é€Ÿ
; - é»˜è®¤ MATCH æŒ‡å‘æµ·å¤–ç»„ï¼ˆå¯æ”¹ä¸º ReturnToCN / DIRECTï¼‰
; -------------------------
[Rules]
1 = GEOIP,CN,ğŸ‡¨ğŸ‡³å›å›½ç»„
2 = DOMAIN-SUFFIX,cn,ğŸ‡¨ğŸ‡³å›å›½ç»„
3 = DOMAIN-SUFFIX,baidu.com,ğŸ‡¨ğŸ‡³å›å›½ç»„
4 = DOMAIN-SUFFIX,qq.com,ğŸ‡¨ğŸ‡³å›å›½ç»„
5 = DOMAIN-SUFFIX,google.com,ğŸ‡­ğŸ‡°é¦™æ¸¯ç»„
6 = DOMAIN-SUFFIX,youtube.com,ğŸ‡­ğŸ‡°é¦™æ¸¯ç»„
7 = DOMAIN-SUFFIX,netflix.com,ğŸ‡­ğŸ‡°é¦™æ¸¯ç»„
8 = DOMAIN-SUFFIX,facebook.com,ğŸ‡ºğŸ‡¸æµ·å¤–ç»„

; SpeedtestChina ä¼˜åŒ–ï¼ˆä½¿ Speedtest.net/ookla ç­‰èµ°å›å›½èŠ‚ç‚¹ç”¨äºå›½å†…ä½å»¶è¿Ÿæµ‹è¯•ï¼‰
9 = DOMAIN-SUFFIX,speedtest.net,ğŸ‡¨ğŸ‡³å›å›½ç»„
10 = DOMAIN-SUFFIX,speedtest.cn,ğŸ‡¨ğŸ‡³å›å›½ç»„
11 = DOMAIN-SUFFIX,ookla.com,ğŸ‡¨ğŸ‡³å›å›½ç»„
12 = DOMAIN-KEYWORD,speedtest,ğŸ‡¨ğŸ‡³å›å›½ç»„

; å¯é€‰ï¼šæŠŠæµ·å¤–è®¿é—®å›å›½çš„æµé‡å¼ºåˆ¶èµ°å›å›½å‡ºå£ï¼ˆæŠŠä¸‹é¢ MATCH æ”¹ä¸º ReturnToCN å³å¯ï¼‰
13 = MATCH,ğŸ‡ºğŸ‡¸æµ·å¤–ç»„

; -------------------------
; Rule Providers (åŠ¨æ€æ›´æ–°)
; -------------------------
[RuleProvider:speedtest-china]
type = http
behavior = domain
url = https://kelee.one/Tool/Clash/Rule/SpeedtestChina.yaml
path = ./ruleset/speedtest-china.yaml
interval = 43200
